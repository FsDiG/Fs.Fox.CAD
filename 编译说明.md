
### 条件编译前缀
.Net版本为了与Fox官方保持一致:
- AutoCAD 简写前缀为 `acad;a2019`
- 中望CAD 简写前缀为 `zcad;z2022;ZWCAD`
- 浩辰CAD 简写前缀为 `h2025`

### 多版本编译方案说明

本项目对中望CAD的多版本支持采用了**多项目文件**方案（`Fs.Fox.ZwCad2022.csproj`、`Fs.Fox.ZwCad2025.csproj`），而非**多目标框架**方案（`<TargetFrameworks>net472;net48</TargetFrameworks>`）。

#### 核心原因

**第一性原理 - 语义准确性：**
- .NET Framework 版本号（`net472`、`net48`）的设计初衷是区分**运行时环境**，而非区分**目标平台版本**
- ZWCAD 2022 和 2025 官方文档均是基于 `net47`，用框架版本区分 CAD 版本是"滥用"机制
- **多项目方案直接表达真实意图**：支持不同版本的 ZWCAD，而非不同版本的 .NET Framework

#### 关键优势

1. **语义清晰**：项目名直接体现 CAD 版本，一目了然
2. **完全隔离**：每个版本独立配置（NuGet 包、输出路径、条件编译符号）
3. **扩展灵活**：添加新版本只需新增项目文件，不受框架版本限制
4. **代码共享**：通过 `CADShared.projitems` 共享代码，维护成本不增加

#### 项目结构

```
src\IFoxCAD.ZwCad\
  ├─ Fs.Fox.ZwCad2022.csproj  → 引用 ZWCAD.NetApi 20.22.0 → 输出 Build\ZW_2022_Debug\Fs.Fox.ZwCad.dll
  └─ Fs.Fox.ZwCad2025.csproj  → 引用 ZWCAD.NetApi 20.25.0 → 输出 Build\ZW_2025_Release\Fs.Fox.ZwCad.dll
```

#### 编译方式

```bash
# 编译特定版本
dotnet build src\IFoxCAD.ZwCad\Fs.Fox.ZwCad2022.csproj -c Debug

# 编译所有版本
dotnet build IFoxCAD.sln
```

### 核心项目配置

| 项目 | 目标框架 | SDK 版本 | 条件编译符号 | 输出路径 |
|------|---------|---------|------------|---------|
| Fs.Fox.AutoCad2019 | net48 | AutoCAD.NET 23.0.0 | acad;a2019;ACAD2019;ACAD | AC_2019_Debug/Release |
| Fs.Fox.AutoCad2025 | net8.0-windows | AutoCAD.NET 25.0.1 | acad;a2025;ACAD2025;ACAD | AC_2025_Debug/Release |
| Fs.Fox.ZwCad2022 | net48 | ZWCAD.NetApi 20.22.0 | zcad;z2022;ZWCAD | ZW_2022_Debug/Release |
| Fs.Fox.ZwCad2025 | net48 | ZWCAD.NetApi 20.25.0 | zcad;z2025;z2025;ZWCAD | ZW_2025_Debug/Release |

### 测试项目配置

| 测试项目 | 目标框架 | 条件编译符号 | 输出路径 | 引用项目 |
|---------|---------|------------|---------|---------|
| TestAcad2019 | net48 | acad;a2019 | AC_2019_Debug/Release | Fs.Fox.AutoCad2019 |
| TestAcad2025 | net8.0-windows | acad;a2025 | AC_2025_Debug/Release | Fs.Fox.AutoCad2025 |
| TestZcad2022 | net48 | zcad;z2022 | ZW_2022_Debug/Release | Fs.Fox.ZwCad2022 |
| TestZcad2025 | net48 | zcad;z2025 | ZW_2025_Debug/Release | Fs.Fox.ZwCad2025 |

### 输出路径说明

**所有项目统一输出到根目录下的 `Build\` 文件夹**，核心类库与测试项目输出到同一目录，便于测试和调试：

```
Build\
  ├─ AC_2019_Debug\
  │   ├─ Fs.Fox.AutoCad.dll       ← 核心类库
  │   ├─ Fs.Fox.AutoCad.xml
  │   └─ TestAcad2019.dll          ← 测试项目
  │
  ├─ AC_2019_Release\
  │   ├─ Fs.Fox.AutoCad.dll
  │   ├─ Fs.Fox.AutoCad.xml
  │   └─ TestAcad2019.dll
  │
  ├─ AC_2025_Debug\
  │   ├─ Fs.Fox.AutoCad.dll
  │   ├─ Fs.Fox.AutoCad.xml
  │   └─ TestAcad2025.dll
  │
  ├─ AC_2025_Release\
  │   ├─ Fs.Fox.AutoCad.dll
  │   ├─ Fs.Fox.AutoCad.xml
  │   └─ TestAcad2025.dll
  │
  ├─ ZW_2022_Debug\
  │   ├─ Fs.Fox.ZwCad.dll
  │   ├─ Fs.Fox.ZwCad.xml
  │   └─ TestZcad2022.dll
  │
  ├─ ZW_2022_Release\
  │   ├─ Fs.Fox.ZwCad.dll
  │   ├─ Fs.Fox.ZwCad.xml
  │   └─ TestZcad2022.dll
  │
  ├─ ZW_2025_Debug\
  │   ├─ Fs.Fox.ZwCad.dll
  │   ├─ Fs.Fox.ZwCad.xml
  │   └─ TestZcad2025.dll
  │
  └─ ZW_2025_Release\
      ├─ Fs.Fox.ZwCad.dll
      ├─ Fs.Fox.ZwCad.xml
      └─ TestZcad2025.dll
```

**核心原则：**
1. **统一输出路径**：所有项目输出到根目录 `Build\`，避免构建产物分散
2. **扁平化目录**：使用 `AppendTargetFrameworkToOutputPath=false` 去除中间框架文件夹
3. **语义清晰**：让项目结构如实反映业务意图，而非滥用技术机制
 